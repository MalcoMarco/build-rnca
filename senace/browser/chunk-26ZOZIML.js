import{a as q,b as oe,c as ne,d as re,e as be}from"./chunk-T5IQFUDW.js";import{$a as ie,B as I,Ba as b,Ca as ve,D as c,F as f,H as n,Ha as ce,I as o,Ia as ee,J as m,Ja as N,L as y,La as te,M as p,Ma as U,N as _,Na as u,Oa as O,Pa as T,R,Ra as V,S as r,Sa as w,T as L,Ta as M,U as h,Ua as Se,Va as Ee,Wa as Ce,Xa as ge,Ya as k,_a as _e,a as J,ba as G,bb as xe,ca as H,ea as X,j as Z,ja as j,k as K,ka as Q,m as z,n as P,o as Y,pa as fe,qa as he,r as E,s as C,u as g,va as W,y as a,z as S}from"./chunk-PTMWBTM4.js";import{a as le,d as ue}from"./chunk-5FZOKLP6.js";var D=(()=>{class l{constructor(t,i){this.http=t,this.configService=i,this.coespecialista=0,this.coexpedienteSolicitud=0,this.codatospersonales=0,this.dataSubject=new J({}),this.sharedData$=this.dataSubject.asObservable()}updateDataService(t){let i=this.dataSubject.value;this.dataSubject.next(le(le({},i),t))}crearExperienciaProf(t){return this.http.post(`${this.configService.apidomainRaca}${b.CREAR_EXPERIENCIA}`,t).pipe()}actualizarExperienciaProf(t){return this.http.post(`${this.configService.apidomainRaca}${b.ACTUALIZAR_EXPERIENCIA}`,t).pipe()}crearCVDatosPersonales(t){return this.http.post(`${this.configService.apidomainRaca}${b.CREAR_CV_DATOS_PERSONALES}`,t).pipe()}actualizarCVDatosPersonales(t){return this.http.post(`${this.configService.apidomainRaca}${b.ACTUALIZAR_CV_DATOS_PERSONALES}`,t).pipe()}ListarEspecialista(t){let i=`${this.configService.apidomainRaca}${b.OBTENER_ESPECIALISTA}`.replace("{id}",t.toString());return this.http.get(i).pipe()}ListarDatosPersonalesByEspecialista(t){let i=`${this.configService.apidomainRaca}${b.OBTENER_DATOS_PERSONALES}`.replace("{id}",t.toString());return this.http.get(i).pipe()}crearOtrosEstudios(t){return this.http.post(`${this.configService.apidomainRaca}${b.CREAR_CV_OTROS_ESTUDIOS}`,t).pipe()}actualizarOtrosEstudios(t){return this.http.post(`${this.configService.apidomainRaca}${b.ACTUALIZAR_CV_OTROS_ESTUDIOS}`,t).pipe()}procesarCVPosgrado(t){return this.http.post(`${this.configService.apidomainRaca}${b.PROCESAR_CV_POSGRADO}`,t).pipe()}ListarFormacionAcad\u00E9micaCoDatosPersonales(t){let i=`${this.configService.apidomainRaca}${b.OBTENER_FORMACION_ACADEMICA}`.replace("{id}",t.toString());return this.http.get(i).pipe()}crearCVFormacionAcademica(t){return this.http.post(`${this.configService.apidomainRaca}${b.CREAR_CV_FORMACION_ACADEMICA}`,t).pipe()}actualizarCVFormacionAcademica(t){return this.http.post(`${this.configService.apidomainRaca}${b.ACTUALIZAR_CV_FORMACION_ACADEMICA}`,t).pipe()}crearCVPostGrado(t){return this.http.post(`${this.configService.apidomainRaca}${b.CREAR_CV_POST_GRADO}`,t).pipe()}setCoespecialista(t){this.coespecialista=t}getCoEspecialista(){return this.coespecialista}setCoExpedienteSolicitud(t){this.coexpedienteSolicitud=t}getCoExpedienteSolicitud(){return this.coexpedienteSolicitud}setCoDatosPersonales(t){this.codatospersonales=t}getCoDatosPersonales(){return this.codatospersonales}crearCVDocumentoAdjuntos(t){return this.http.post(`${this.configService.apidomainRaca}${b.CREAR_CV_DOCUMENTO_ADJUNTO}`,t).pipe()}actualizarCVDocumentoAdjuntos(t){return this.http.post(`${this.configService.apidomainRaca}${b.CACTUALIZAR_CV_DOCUMENTO_ADJUNTO}`,t).pipe()}static{this.\u0275fac=function(i){return new(i||l)(z(W),z(ee))}}static{this.\u0275prov=Z({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var Pe=(()=>{class l{constructor(){this.title="",this.nextStep=new g,this.prevStep=new g,this.cv=new g}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=P({type:l,selectors:[["app-consentimiento-uso-datos"]],inputs:{title:"title"},outputs:{nextStep:"nextStep",prevStep:"prevStep",cv:"cv"},decls:36,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"consent","d-flex","m-auto"],["type","checkbox","id","consentCheckbox"],["for","consentCheckbox ms-2"],[1,"note"],[1,"table-container"],["rowspan","4",1,"fingerprint-cell"],[1,"btns-footer"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1),r(2),o(),n(3,"div",2)(4,"div",3),m(5,"input",4),n(6,"label",5),r(7," Otorgo mi consentimiento para el tratamiento de la informaci\xF3n consignada en el presente formulario, la cual ser\xE1 utilizada estrictamente para la publicaci\xF3n del equipo profesional multidisciplinario de la consultora y los dem\xE1s fines del Registro Nacional de Consultoras Ambientales. "),o()(),n(8,"p",6)(9,"strong"),r(10,"Nota:"),o(),r(11," Usted podr\xE1 ejercer, cuando corresponda, los derechos de acceso, rectificaci\xF3n, cancelaci\xF3n y oposici\xF3n de sus datos personales, en cualquier momento, a trav\xE9s de una solicitud presentada en la Mesa de Partes de la Sede Central del Senace. "),o(),n(12,"p"),r(13,"Formulo la presente Declaraci\xF3n Jurada en virtud del principio de presunci\xF3n de veracidad previsto en el Numeral 1.7 del Art\xEDculo IV del T\xEDtulo Preliminar y el Art\xEDculo 49 del Texto \xDAnico Ordenado de la Ley N\xB0 27444, Ley del Procedimiento Administrativo General."),o(),n(14,"table",7)(15,"tr")(16,"td"),r(17,"Firma"),o(),n(18,"td",8),r(19,"Huella digital (opcional)"),o()(),n(20,"tr")(21,"td"),r(22,"Nombres y apellidos"),o()(),n(23,"tr")(24,"td"),r(25,"Tipo y n\xFAmero del documento de identidad"),o()(),n(26,"tr")(27,"td"),r(28,"Fecha"),o()()(),n(29,"div",9)(30,"button",10),p("click",function(){return e.prevStep.emit()}),r(31,"Anterior"),o(),n(32,"button",11),p("click",function(){return e.nextStep.emit()}),r(33,"Siguiente"),o(),n(34,"button",11),p("click",function(){return e.cv.emit()}),r(35,"Registrar CV"),o()()()()),i&2&&(a(2),h(" ",e.title," "))}})}}return l})();var me=ue(xe());var $=(()=>{class l{constructor(t,i){this.http=t,this.configService=i,this.listaPaises=new J([]),this.listaPaises$=this.listaPaises.asObservable()}getListaPaises(){return this.listaPaises.getValue()}setListaPaises(t){this.listaPaises.next(t)}listarPaises(){return this.http.get(`${this.configService.apidomainRaca}${b.LISTAR_PAISES}`).pipe()}static{this.\u0275fac=function(i){return new(i||l)(z(W),z(ee))}}static{this.\u0275prov=Z({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function Le(l,x){if(l&1&&(n(0,"option",26),r(1),o()),l&2){let t=x.$implicit;c("value",t.idPais),a(),L(t.descripcion)}}var De=(()=>{class l{constructor(t,i,e,s){this.fb=t,this.authService=i,this.paisesService=e,this.curriculumService=s,this.title="",this.nextStep=new g,this.prevStep=new g,this.listPaises=[],this.formDatosPersonales=this.fb.group({coDatosPersonales:[0,[u.required]],coEspecialista:[null,[u.required]],noApellidos:["",[u.required,u.maxLength(255)]],coNacionalidad:[null,[u.required,u.pattern(/^\d+$/),u.maxLength(8)]],nuDocumento:["",[u.required,u.maxLength(20)]],nuTelefono:["",[u.required,u.maxLength(15)]],noDireccion:["",[u.maxLength(255)]],noCorreoElectronico:["",[u.required,u.maxLength(100),u.email]],coColegioProfesional:["",[u.required]],coNumeroColegiatura:["",[u.required,u.pattern(/^\d+$/),u.maxLength(8)]],feVigenciaHabilitacion:["",[u.required]],inDeclaroNoColegio:[!1],usCreacion:[this.authService.getAuthId()]})}ngOnInit(){let t=this.curriculumService.getCoEspecialista();t||me.default.fire({icon:"error",title:"Oops...",text:"No se encontr\xF3 el especialista"}),this.ListarEspecialista(t),this.paisesService.listaPaises$.subscribe(i=>{this.listPaises=i}),this.listPaises.length===0&&this.paisesService.listarPaises().subscribe({next:i=>{this.paisesService.setListaPaises(i.response)},error:i=>{console.error(i)}})}ListarEspecialista(t){this.curriculumService.ListarEspecialista(t).subscribe({next:i=>{if(i.response){console.log("Datos personales creados correctamente"),console.log("crearCvDatosPersonales",i);var e=i.response;this.formDatosPersonales.patchValue({coEspecialista:e.coEspecialista,noApellidos:e.noApellidos,nuDocumento:e.nuDocumento,usCreacion:this.authService.getAuthId()}),this.ListarDatosPersonalesEspecialista(t)}},error:i=>{console.error("crearCvDatosPersonales",i)}})}ListarDatosPersonalesEspecialista(t){this.curriculumService.ListarDatosPersonalesByEspecialista(t).subscribe({next:i=>{if(i.response){console.log("Datos personales creados correctamente"),console.log("crearCvDatosPersonales",i);var e=i.response;this.formDatosPersonales.patchValue({coDatosPersonales:e.coDatosPersonales,coNacionalidad:e.coNacionalidad,nuTelefono:e.nuTelefono,noDireccion:e.noDireccion,noCorreoElectronico:e.noCorreoElectronico,coColegioProfesional:e.coColegioProfesional,coNumeroColegiatura:e.coNumeroColegiatura,feVigenciaHabilitacion:e.feVigenciaHabilitacion?new Date(e.feVigenciaHabilitacion).toISOString().split("T")[0]:null,inDeclaroNoColegio:e.inDeclaroNoColegio})}},error:i=>{console.error("crearCvDatosPersonales",i)}})}onSubmitformDatosPersonales(){let t=this.curriculumService.getCoEspecialista();if(t||me.default.fire({icon:"error",title:"Oops...",text:"No se encontr\xF3 el especialista"}),this.formDatosPersonales.patchValue({coEspecialista:t}),this.formDatosPersonales.invalid){console.log("Formulario inv\xE1lido",this.formDatosPersonales.value),Object.values(this.formDatosPersonales.controls).forEach(i=>{i.markAllAsTouched()});return}else console.log("Formulario v\xE1lido",this.formDatosPersonales.value),this.formDatosPersonales.value.coDatosPersonales?this.actualizarCVDatosPersonales():this.crearCvDatosPersonales()}crearCvDatosPersonales(){this.formDatosPersonales.get("inDeclaroNoColegio")?.setValue(this.formDatosPersonales.value.inDeclaroNoColegio?1:0),this.curriculumService.crearCVDatosPersonales(this.formDatosPersonales.value).subscribe({next:t=>{t.response&&(console.log("Datos personales creados correctamente"),console.log("crearCvDatosPersonales",t),this.formDatosPersonales.patchValue(t.response),this.curriculumService.setCoDatosPersonales(t.response.coDatosPersonales),this.nextStep.emit())},error:t=>{console.error("crearCvDatosPersonales",t)}})}actualizarCVDatosPersonales(){this.formDatosPersonales.get("inDeclaroNoColegio")?.setValue(this.formDatosPersonales.value.inDeclaroNoColegio?1:0),this.curriculumService.actualizarCVDatosPersonales(this.formDatosPersonales.value).subscribe({next:t=>{t.response&&(console.log("Datos personales actualizados correctamente"),console.log("actualizarCVDatosPersonales",t),this.curriculumService.setCoDatosPersonales(t.response.coDatosPersonales),this.formDatosPersonales.patchValue(t.response),this.nextStep.emit())},error:t=>{console.error("actualizarCVDatosPersonales",t)}})}validarYcontinuar(){}isInvalid(t){let i=this.formDatosPersonales.get(t);return i?i.invalid&&(i.dirty||i.touched):!1}static{this.\u0275fac=function(i){return new(i||l)(S(k),S(N),S($),S(D))}}static{this.\u0275cmp=P({type:l,selectors:[["app-datos-personales"]],inputs:{title:"title"},outputs:{nextStep:"nextStep",prevStep:"prevStep"},decls:67,vars:23,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row"],["disabled","",1,"form-group","mb-3","col-lg-6"],[1,"arial-narrow-9"],["formControlName","noApellidos","type","text","maxlength","255","placeholder","Ingrese Nombres y Apellidos",1,"form-control"],[1,"form-group","mb-3","col-lg-6"],["formControlName","coNacionalidad",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","nuDocumento","type","text","maxlength","20","placeholder","N\xFAmero de documento",1,"form-control"],["formControlName","nuTelefono","type","text","placeholder","Tel\xE9fono",1,"form-control"],[1,"form-group","mb-3","col-lg-12"],["formControlName","noDireccion","type","text","placeholder","Direcci\xF3n actual",1,"form-control"],["formControlName","noCorreoElectronico","type","email","placeholder","Correo electr\xF3nico",1,"form-control"],["formControlName","coColegioProfesional","type","text","maxlength","50","placeholder","Colegio Profesional",1,"form-control"],[1,"row","mb-2"],["formControlName","coNumeroColegiatura","type","text","placeholder","Registro de colegiatura",1,"form-control"],["formControlName","feVigenciaHabilitacion","type","date","placeholder","Fecha de habilitaci\xF3n",1,"form-control"],[1,"form-check"],["formControlName","inDeclaroNoColegio","type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"btns-footer"],[1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1),r(2),o(),n(3,"div",2)(4,"form",3),p("ngSubmit",function(){return e.onSubmitformDatosPersonales()}),n(5,"div",4)(6,"fieldset",5)(7,"label",6)(8,"strong"),r(9,"Nombres y Apellidos"),o()(),m(10,"input",7),o(),n(11,"div",8)(12,"label",6)(13,"strong"),r(14,"Nacionalidad"),o()(),n(15,"select",9),I(16,Le,2,2,"option",10),o()()(),n(17,"div",4)(18,"fieldset",5)(19,"label",6)(20,"strong"),r(21,"N\xB0 DNI o Carn\xE9 de extranjer\xEDa"),o()(),m(22,"input",11),o(),n(23,"div",8)(24,"label",6)(25,"strong"),r(26,"Tel\xE9fono (fijo o m\xF3vil)"),o()(),m(27,"input",12),o()(),n(28,"div",4)(29,"div",13)(30,"label",6)(31,"strong"),r(32,"Direcci\xF3n de domicilio actual"),o()(),m(33,"input",14),o()(),n(34,"div",4)(35,"div",8)(36,"label",6)(37,"strong"),r(38,"Correo electr\xF3nico"),o()(),m(39,"input",15),o(),n(40,"div",8)(41,"label",6)(42,"strong"),r(43,"Colegio Nacional"),o()(),m(44,"input",16),o()(),n(45,"div",17)(46,"div",8)(47,"label",6)(48,"strong"),r(49,"N\xB0 Registro de colegiatura"),o()(),m(50,"input",18),o(),n(51,"div",8)(52,"label",6)(53,"strong"),r(54,"Vigencia de la Habilitaci\xF3n (dd/mm/aaaa)"),o()(),m(55,"input",19),o()(),n(56,"div",4)(57,"div",13)(58,"div",20),m(59,"input",21),n(60,"label",22),r(61," Declaro que no existe el Colegio Nacional de la carrera "),o()()()(),n(62,"div",23)(63,"button",24),p("click",function(){return e.prevStep.emit()}),r(64,"Anterior"),o(),n(65,"button",25),r(66,"Siguiente"),o()()()()()),i&2&&(a(2),h(" ",e.title," "),a(2),c("formGroup",e.formDatosPersonales),a(6),f("is-invalid",e.isInvalid("noApellidos")),a(5),f("is-invalid",e.isInvalid("coNacionalidad")),a(),c("ngForOf",e.listPaises),a(6),f("is-invalid",e.isInvalid("nuDocumento")),a(5),f("is-invalid",e.isInvalid("nuTelefono")),a(6),f("is-invalid",e.isInvalid("noDireccion")),a(6),f("is-invalid",e.isInvalid("noCorreoElectronico")),a(5),f("is-invalid",e.isInvalid("coColegioProfesional")),a(6),f("is-invalid",e.isInvalid("coNumeroColegiatura")),a(5),f("is-invalid",e.isInvalid("feVigenciaHabilitacion")),a(4),f("is-invalid",e.isInvalid("inDeclaroNoColegio")))},dependencies:[j,V,Ee,Ce,U,te,Se,O,T,ge,w,M]})}}return l})();function ze(l,x){if(l&1){let t=y();n(0,"tr")(1,"td"),r(2),o(),n(3,"td"),r(4),o(),n(5,"td")(6,"input",9),p("change",function(e){let s=E(t),d=s.$implicit,v=s.index,A=_();return C(A.onCheckboxChange(e,d.tipo,v,"tabla1",d.CoDocumentosAdjuntos))}),o()()()}if(l&2){let t=x.$implicit;a(2),L(t.tipo),a(2),L(t.descripcion),a(2),c("checked",t.checked)}}function qe(l,x){if(l&1){let t=y();n(0,"tr")(1,"td"),r(2),o(),n(3,"td"),r(4),o(),n(5,"td")(6,"input",9),p("change",function(e){let s=E(t),d=s.$implicit,v=s.index,A=_();return C(A.onCheckboxChange(e,d.tipo,v,"tabla2",d.CoDocumentosAdjuntos))}),o()()()}if(l&2){let t=x.$implicit;a(2),L(t.tipo),a(2),L(t.descripcion),a(2),c("checked",t.checked)}}var Ie=(()=>{class l{constructor(t,i,e){this.authService=t,this.curriculumService=i,this.consultoraService=e,this.title="",this.nextStep=new g,this.prevStep=new g,this.datastore=[{CoDocumentosAdjuntos:0,tipo:1,descripcion:"Copia de las constancias o certificados de estudios de posgrado, diplomados y/o cursos de especializaci\xF3n sobre aspectos relacionados a estudios ambientales y/o tem\xE1tica ambiental o social. Estos documentos s\xF3lo se presentar\xE1n cuando no se cuente con el diploma del grado acad\xE9mico de maestr\xEDa o doctorado.",checked:!1},{CoDocumentosAdjuntos:0,tipo:2,descripcion:"Para el especialista con carrera profesional vinculada a un determinado sector: copia de las constancias de trabajo, contratos o documentos similares, que acrediten una experiencia profesional m\xEDnima de cinco (05) a\xF1os relacionada al sector materia de la solicitud.",checked:!1},{CoDocumentosAdjuntos:0,tipo:3,descripcion:"Para el especialista con carrera profesional transversal: copia de las constancias de trabajo, contratos o documentos similares, que acrediten una experiencia profesional m\xEDnima de cinco (05) a\xF1os en la elaboraci\xF3n, evaluaci\xF3n, ejecuci\xF3n, supervisi\xF3n y/o fiscalizaci\xF3n de estudios ambientales o instrumentos de gesti\xF3n ambiental complementarios al SEIA.",checked:!1},{CoDocumentosAdjuntos:0,tipo:4,descripcion:"Copia de la constancia de habilitaci\xF3n en el colegio profesional correspondiente (este requisito se presentar\xE1 s\xF3lo cuando dicha informaci\xF3n no pueda ser verificada a trav\xE9s del respectivo portal institucional).",checked:!1}],this.datastore2=[{CoDocumentosAdjuntos:0,tipo:5,descripcion:"Copia de las constancias o certificados de estudios de posgrado, diplomados y/o cursos de especializaci\xF3n sobre aspectos relacionados a estudios ambientales y/o tem\xE1tica ambiental o social. Estos documentos s\xF3lo se presentar\xE1n cuando no se cuente con el diploma del grado acad\xE9mico de maestr\xEDa o doctorado.",checked:!1},{CoDocumentosAdjuntos:0,tipo:6,descripcion:"Copia de las constancias de trabajo, contratos o documentos similares, que acrediten una experiencia profesional m\xEDnima de cinco (05) a\xF1os en la elaboraci\xF3n, evaluaci\xF3n, ejecuci\xF3n, supervisi\xF3n y/o fiscalizaci\xF3n de estudios ambientales o instrumentos de gesti\xF3n ambiental complementarios al SEIA.",checked:!1},{CoDocumentosAdjuntos:0,tipo:7,descripcion:"Copia de la constancia de habilitaci\xF3n en el colegio profesional correspondiente (este requisito se presentar\xE1 s\xF3lo cuando dicha informaci\xF3n no pueda ser verificada a trav\xE9s del respectivo portal institucional).",checked:!1}]}onCheckboxChange(t,i,e,s,d){t.target.checked?this.crearAdjunto(i,e,s):this.actualizarAdjunto(d,i,e,s)}crearAdjunto(t,i,e){let s=this.curriculumService.getCoDatosPersonales();var d={CoDocumentosAdjuntos:0,CoDatosPersonales:s||42,NuFolio:"1",TiAdjunto:t,UsCreacion:this.authService.getAuthId()};this.curriculumService.crearCVDocumentoAdjuntos(d).subscribe({next:v=>{v.response&&(e==="tabla1"&&(this.datastore[i].checked=!0,this.datastore[i].CoDocumentosAdjuntos=v.response.CoDocumentosAdjuntos),e==="tabla2"&&(this.datastore2[i].checked=!0,this.datastore2[i].CoDocumentosAdjuntos=v.response.CoDocumentosAdjuntos))},error:v=>{console.error("crearCvDatosPersonales",v)}})}actualizarAdjunto(t,i,e,s){let d=this.curriculumService.getCoDatosPersonales();var v={CoDocumentosAdjuntos:t,CoDatosPersonales:d||42,NuFolio:"0",TiAdjunto:i,UsModificacion:this.authService.getAuthId()};this.curriculumService.actualizarCVDocumentoAdjuntos(v).subscribe({next:A=>{A.response&&(s==="tabla1"&&(this.datastore[e].checked=!1,this.datastore[e].CoDocumentosAdjuntos=A.response.CoDocumentosAdjuntos),s==="tabla2"&&(this.datastore2[e].checked=!1,this.datastore2[e].CoDocumentosAdjuntos=A.response.CoDocumentosAdjuntos))},error:A=>{console.error("crearCvDatosPersonales",A)}})}static{this.\u0275fac=function(i){return new(i||l)(S(N),S(D),S(q))}}static{this.\u0275cmp=P({type:l,selectors:[["app-documentos-adjuntos"]],inputs:{title:"title"},outputs:{nextStep:"nextStep",prevStep:"prevStep"},decls:47,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table-description","text-muted"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"btns-footer"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary",3,"click"],["type","checkbox","name","checkbox",1,"chkadjuntos",3,"change","checked"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1),r(2),o(),n(3,"div",2)(4,"div",1),r(5," V.a DOCUMENTOS ADJUNTOS "),o(),n(6,"div",2)(7,"div",3)(8,"p"),r(9,"(Llenar este \xEDtem s\xF3lo para el caso de especialistas del equipo profesional multidisciplinario de las consultoras ambientales - Personas Jur\xEDdicas)"),o(),n(10,"p"),r(11,"La documentaci\xF3n que acompa\xF1a al presente formulario deber\xE1 ser presentada en forma completa, legible, visada y foliada por el profesional. Adem\xE1s, la documentaci\xF3n debe contener el visado del representante legal de la consultora ambiental."),o()(),n(12,"table",4)(13,"thead")(14,"tr")(15,"th"),r(16,"TIPO"),o(),n(17,"th"),r(18,"DESCRIPCI\xD3N DEL DOCUMENTO"),o(),n(19,"th"),r(20,"CONFORMIDAD"),o()()(),n(21,"tbody"),I(22,ze,7,3,"tr",5),o()()(),n(23,"div",1),r(24," V.b DOCUMENTOS ADJUNTOS "),o(),n(25,"div",2)(26,"div",3)(27,"p"),r(28,"(Llenar este \xEDtem s\xF3lo para el caso de inscripci\xF3n de personas naturales en el Registro Nacional de Consultoras Ambientales para el subsector Agricultura)"),o(),n(29,"p"),r(30,"La documentaci\xF3n que acompa\xF1a al presente formulario deber\xE1 ser presentada en forma completa, legible, visada y foliada por el profesional."),o()(),n(31,"table",4)(32,"thead")(33,"tr")(34,"th"),r(35,"TIPO"),o(),n(36,"th"),r(37,"DESCRIPCI\xD3N DEL DOCUMENTO"),o(),n(38,"th"),r(39,"CONFORMIDAD"),o()()(),n(40,"tbody"),I(41,qe,7,3,"tr",5),o()()(),n(42,"div",6)(43,"button",7),p("click",function(){return e.prevStep.emit()}),r(44,"Anterior"),o(),n(45,"button",8),p("click",function(){return e.nextStep.emit()}),r(46,"Siguiente"),o()()()()),i&2&&(a(2),h(" ",e.title," "),a(20),c("ngForOf",e.datastore),a(19),c("ngForOf",e.datastore2))},dependencies:[j],styles:[".chkadjuntos[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;margin:auto}"]})}}return l})();function Ze(l,x){if(l&1){let t=y();n(0,"tr")(1,"td"),r(2),o(),n(3,"td"),r(4),o(),n(5,"td"),r(6),o(),n(7,"td"),r(8),o(),n(9,"td"),r(10),o(),n(11,"td"),r(12),o(),n(13,"td"),r(14),o(),n(15,"td",25)(16,"button",26),p("click",function(){let e=E(t).index,s=_(),d=R(81);return C(s.openModalPosgrado(d,e))}),m(17,"i",27),o(),n(18,"button",18),p("click",function(){let e=E(t).index,s=_();return C(s.removePosgrado(e))}),m(19,"i",28),o()()()}if(l&2){let t=x.$implicit,i=x.index;a(2),h("",i+1," "),a(2),h("",t.TipoEstudio," "),a(2),h("",t.NoEstudio," "),a(2),h(" ",t.CoInstitucion," "),a(2),h(" ",t.NumeroCreditos," "),a(2),h(" ",t.NumeroHoras," "),a(2),h(" ",t.NumeroFolio," ")}}function Ke(l,x){l&1&&(n(0,"tr")(1,"td",29),r(2," Sin elementos "),o()())}function Ye(l,x){if(l&1){let t=y();n(0,"div",30)(1,"h5",31),r(2,"Diplomados y/o cursos especializaci\xF3n"),o(),n(3,"button",32),p("click",function(){let e=E(t).$implicit;return C(e.dismiss())}),o()(),n(4,"div",33)(5,"form",34),p("submit",function(){let e=E(t).$implicit,s=_();return C(s.onSubmitModalPosgrado(e))}),n(6,"div",35)(7,"div",36)(8,"label",37)(9,"strong"),r(10,"TIPO"),o()(),m(11,"ngx-select-dropdown",38),o(),n(12,"div",36)(13,"label",37)(14,"strong"),r(15,"NOMBRE DE ESTUDIO"),o()(),m(16,"input",39),o(),n(17,"div",40)(18,"label",37)(19,"strong"),r(20,"INSTITUCI\xD3N"),o()(),m(21,"ngx-select-dropdown",11),o(),n(22,"div",36)(23,"label",37)(24,"strong"),r(25,"N\xDAMERO DE CREDITOS"),o()(),m(26,"input",41),o(),n(27,"div",36)(28,"label",37)(29,"strong"),r(30,"N\xDAMERO DE HORAS"),o()(),m(31,"input",42),o(),n(32,"div",43)(33,"span",44)(34,"input",45),p("change",function(e){E(t);let s=_();return C(s.onFileChange(e))}),o()(),n(35,"label",46)(36,"span"),r(37,"Subir Documento"),o()(),n(38,"span",47),r(39),o()()(),n(40,"div",48)(41,"button",49),p("click",function(){let e=E(t).close;return C(e("Cancel"))}),m(42,"i",50),r(43," Cancelar "),o(),n(44,"button",51),r(45," Guardar "),m(46,"i",52),o()()()()}if(l&2){let t=_();a(5),c("formGroup",t.formOtrosEstudios),a(6),f("is-invalid",t.isInvalid("tipo")),c("options",t.listaTipoEstudio)("config",t.ddSEstudio),a(5),f("is-invalid",t.isInvalid("NoEstudio")),a(5),f("is-invalid",t.isInvalid("universidad")),c("options",t.listaUniversidades)("config",t.ddSUniversidad),a(5),f("is-invalid",t.isInvalid("NumeroCreditos")),a(5),f("is-invalid",t.isInvalid("NumeroHoras")),a(8),h(" ",t.filename," ")}}var ye=(()=>{class l{constructor(t,i,e,s,d,v,A){this.fb=t,this.universidadesService=i,this.paisesService=e,this.authService=s,this.curriculumService=d,this.modalService=v,this.consultoraService=A,this.title="",this.nextStep=new g,this.prevStep=new g,this.dataStore=[],this.isEditIndex=null,this.listaUniversidades=[],this.listPaises=[],this.listaTipoEstudio=[],this.filename="",this.ddSUniversidad={displayKey:"desUniversidad",search:!0,height:"200px",placeholder:"Seleccione"},this.ddSPaises={displayKey:"descripcion",search:!0,height:"200px",placeholder:"Seleccione"},this.ddSEstudio={displayKey:"descripcion",search:!0,height:"200px",placeholder:"Seleccione"},this.formOtrosEstudios=this.fb.group({CoOtrosEstudios:[0,[]],coDatosPersonales:[null,[]],TipoEstudio:["1",[]],tipo:[null,[]],NoEstudio:[null,[]],CoInstitucion:[null,[]],universidad:[null,[]],NumeroCreditos:[null,[]],NumeroHoras:[null,[]],NumeroFolio:[null,[]],usCreacion:[this.authService.getAuthId()],NoArchivo:[null,[]]}),this.formPosgradoMaestria=this.fb.group({CoPosgrado:[0,[]],coDatosPersonales:[null,[]],TiEstudio:["3",[u.required]],CoEspecialidad:[null,[u.required]],universidad:[null,[u.required]],CoInstitucion:[null,[]],pais:[null,[u.required]],CoPais:[null,[]],NoNumeroFolio:["id alfresco",[]],usCreacion:[this.authService.getAuthId()],NoArchivo:[null,[u.required]]}),this.formPosgradoDoctorado=this.fb.group({CoPosgrado:[0,[]],coDatosPersonales:[null,[]],TiEstudio:["4",[u.required]],CoEspecialidad:[null,[u.required]],universidad:[null,[u.required]],CoInstitucion:[null,[]],pais:[null,[u.required]],CoPais:[null,[]],NoNumeroFolio:["id alfresco",[]],usCreacion:[this.authService.getAuthId()],NoArchivo:[null,[u.required]]})}ngOnInit(){this.universidadesService.universidades$.subscribe(t=>{this.listaUniversidades=t}),this.paisesService.listaPaises$.subscribe(t=>{this.listPaises=t}),this.consultoraService.listaTipoEstudio$.subscribe(t=>{this.listaTipoEstudio=t}),this.listaTipoEstudio.length===0&&this.consultoraService.listarTipoEstudio("O").subscribe({next:t=>{this.consultoraService.setListaTipoEstudio(t.response)},error:t=>{console.error(t)}})}onFileChangeMaestria(t){let i=t.target;i.files&&i.files[0]&&this.formPosgradoMaestria.get("NoArchivo")?.setValue(i.files[0].name)}onFileChangeDoctorado(t){let i=t.target;i.files&&i.files[0]&&this.formPosgradoDoctorado.get("NoArchivo")?.setValue(i.files[0].name)}onFileChange(t){let i=t.target;console.log("file",i),i.files&&i.files[0]&&(this.filename=i.files[0].name,this.formOtrosEstudios.get("folios")?.setValue(this.filename))}openModalPosgrado(t,i){if(this.formOtrosEstudios.reset(),i!==null){this.isEditIndex=i;let e=this.dataStore[i];this.formOtrosEstudios.patchValue(e)}this.modalService.open(t,{size:"lg"})}nextTab(){if(!this.formPosgradoMaestria.valid&&!this.formPosgradoDoctorado.valid){this.formPosgradoMaestria.markAllAsTouched(),this.formPosgradoDoctorado.markAllAsTouched(),console.log("Los formularios contienen errores.");return}this.procesarCVPosgrado()}procesarCVPosgrado(){let t=this.curriculumService.getCoDatosPersonales();this.formPosgradoMaestria.get("coDatosPersonales")?.setValue(t),this.formPosgradoMaestria.get("CoInstitucion")?.setValue(this.formPosgradoMaestria.value.universidad.idUniversidad),this.formPosgradoMaestria.get("CoPais")?.setValue(this.formPosgradoMaestria.value.pais.idPais),this.formPosgradoDoctorado.get("coDatosPersonales")?.setValue(t),this.formPosgradoDoctorado.get("CoInstitucion")?.setValue(this.formPosgradoDoctorado.value.universidad.idUniversidad),this.formPosgradoDoctorado.get("CoPais")?.setValue(this.formPosgradoDoctorado.value.pais.idPais);var i=[this.formPosgradoMaestria.value,this.formPosgradoDoctorado.value];this.curriculumService.crearCVPostGrado(i).subscribe({next:e=>{e.response&&(this.formPosgradoMaestria.patchValue(e.response[0]),this.formPosgradoDoctorado.patchValue(e.response[1]),this.nextStep.emit())},error:e=>{console.error("crearCvDatosPersonales",e)}})}onSubmitModalPosgrado(t){this.formOtrosEstudios.valid?(this.formOtrosEstudios.value.CoOtrosEstudios!=null&&this.formOtrosEstudios.value.CoOtrosEstudios!=0?this.actualizarOtrosEstudios(t):this.crearOtrosEstudios(t),this.formOtrosEstudios.reset(),t.close()):(console.log("Formulario inv\xE1lido"),Object.values(this.formOtrosEstudios.controls).forEach(i=>{i.markAllAsTouched()}))}removePosgrado(t){this.dataStore.splice(t,1)}isInvalid(t){let i=this.formOtrosEstudios.get(t);return i?i.invalid&&(i.dirty||i.touched):!1}isInvalidMaestria(t){let i=this.formPosgradoMaestria.get(t);return i?i.invalid&&(i.dirty||i.touched):!1}isInvalidDoctorado(t){let i=this.formPosgradoDoctorado.get(t);return i?i.invalid&&(i.dirty||i.touched):!1}crearOtrosEstudios(t){let i=this.curriculumService.getCoDatosPersonales(),e=this.formOtrosEstudios.value,s={CoOtrosEstudios:0,coDatosPersonales:i,TipoEstudio:e.tipo.idTipoEstudio,NoEstudio:e.NoEstudio,CoInstitucion:e.universidad.idUniversidad,NumeroCreditos:e.NumeroCreditos,NumeroHoras:e.NumeroHoras,NumeroFolio:"id alfresco",usCreacion:this.authService.getAuthId(),NoArchivo:this.filename};this.curriculumService.crearOtrosEstudios(s).subscribe({next:d=>{if(d.response){var v=d.response;e.CoOtrosEstudios=v.CoOtrosEstudios,this.isEditIndex!==null?this.dataStore[this.isEditIndex]=e:(this.dataStore.push(e),this.isEditIndex=null),t.close()}},error:d=>{console.error("crearCvDatosPersonales",d)}})}actualizarOtrosEstudios(t){let i=this.formOtrosEstudios.value,e={CoOtrosEstudios:i.CoOtrosEstudios,coDatosPersonales:i.CoDatosPersonales,TipoEstudio:i.tipo.idTipoEstudio,NoEstudio:i.NoEstudio,CoInstitucion:i.universidad.idUniversidad,NumeroCreditos:i.NumeroCreditos,NumeroHoras:i.NumeroHoras,NumeroFolio:"id alfresco",usCreacion:this.authService.getAuthId(),NoArchivo:this.filename};this.curriculumService.actualizarOtrosEstudios(e).subscribe({next:s=>{if(s.response){var d=s.response;this.isEditIndex!==null?this.dataStore[this.isEditIndex]=i:(this.dataStore.push(i),this.isEditIndex=null),t.close()}},error:s=>{console.error("crearCvDatosPersonales",s)}})}static{this.\u0275fac=function(i){return new(i||l)(S(k),S(ne),S($),S(N),S(D),S(ie),S(q))}}static{this.\u0275cmp=P({type:l,selectors:[["app-estudios-postgrados-especializacion"]],inputs:{title:"title"},outputs:{nextStep:"nextStep",prevStep:"prevStep"},decls:82,vars:35,consts:[["modal_posgrado",""],[1,"card"],[1,"card-header"],[1,"card-body","px-0"],[1,"p-3"],[1,"table","table-sm","table-bordered"],[1,"text-center","arial-narrow-9","fw-bold"],[2,"width","200px"],[2,"width","400px"],[3,"formGroup"],["type","text","formControlName","CoEspecialidad",1,"form-control"],["formControlName","universidad",1,"singleSelection",3,"options","config"],["formControlName","pais",1,"singleSelection",3,"options","config"],["type","file","accept",".pdf",1,"form-control",3,"change"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",2,"width","8rem"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btns-footer"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"text-center"],["type","button",1,"btn","btn-sm","btn-outline-secondary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-pencil-alt"],["aria-hidden","true",1,"fas","fa-eraser"],["colspan","100%",1,"text-center","text-muted","fst-italic"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-sm",3,"click"],[1,"modal-body"],[3,"submit","formGroup"],[1,"row"],[1,"form-group","mb-3","col-md-6"],[1,"arial-narrow-9"],["formControlName","tipo",1,"singleSelection",3,"options","config"],["formControlName","NoEstudio","type","text",1,"form-control"],[1,"form-group","mb-3","col-md-12"],["formControlName","NumeroCreditos","type","text",1,"form-control"],["formControlName","NumeroHoras","type","text",1,"form-control"],[1,"form-group","mb-3","col-md-12",2,"padding-top","10px"],[1,"iptFile"],["type","file","name","iptFile","id","iptFile",3,"change"],["for","iptFile"],[2,"position","absolute","margin-left","10px","margin-top","10px"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-times","fa-fw"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-arrow-right","fa-fw"]],template:function(i,e){if(i&1){let s=y();n(0,"div",1)(1,"div",2),r(2),o(),n(3,"div",3)(4,"div",2),r(5," III.a POSGRADOS ACAD\xC9MICOS "),o(),n(6,"div",4)(7,"table",5)(8,"thead")(9,"tr",6)(10,"th",7),r(11,"TIPO"),o(),n(12,"th"),r(13,"ESPECIALIDAD"),o(),n(14,"th",8),r(15,"INSTITUCI\xD3N"),o(),n(16,"th",7),r(17,"PA\xCDS"),o(),n(18,"th",8),r(19,"DOCUMENTO"),o()()(),n(20,"tbody")(21,"tr")(22,"td"),r(23,"Maestr\xEDa"),o(),n(24,"td")(25,"form",9),m(26,"input",10),o()(),n(27,"td")(28,"form",9),m(29,"ngx-select-dropdown",11),o()(),n(30,"td")(31,"form",9),m(32,"ngx-select-dropdown",12),o()(),n(33,"td")(34,"form",9)(35,"input",13),p("change",function(v){return E(s),C(e.onFileChangeMaestria(v))}),o()()()(),n(36,"tr")(37,"td"),r(38,"Doctorado"),o(),n(39,"td")(40,"form",9),m(41,"input",10),o()(),n(42,"td")(43,"form",9),m(44,"ngx-select-dropdown",11),o()(),n(45,"td")(46,"form",9),m(47,"ngx-select-dropdown",12),o()(),n(48,"td")(49,"form",9)(50,"input",13),p("change",function(v){return E(s),C(e.onFileChangeDoctorado(v))}),o()()()()()()(),n(51,"div",2),r(52," III.b OTROS ESTUDIOS: DIPLOMADOS Y/O CURSOS DE ESPECIALIZACI\xD3N "),o(),n(53,"div",14)(54,"div",15)(55,"table",16)(56,"tr")(57,"th"),r(58,"TIPO (*)"),o(),n(59,"th"),r(60,"NOMBRE DEL ESTUDIO"),o(),n(61,"th"),r(62,"INSTITUCI\xD3N"),o(),n(63,"th"),r(64,"N\xDAMERO DE CR\xC9DITOS"),o(),n(65,"th"),r(66,"N\xDAMERO DE HORAS"),o(),n(67,"th"),r(68,"DOCUMENTO"),o(),n(69,"th",17),r(70,"Acci\xF3n "),n(71,"button",18),p("click",function(){E(s);let v=R(81);return C(e.openModalPosgrado(v,null))}),m(72,"i",19),o()()(),I(73,Ze,20,7,"tr",20)(74,Ke,3,0,"tr",21),o()()(),n(75,"div",22)(76,"button",23),p("click",function(){return E(s),C(e.prevStep.emit())}),r(77,"Anterior"),o(),n(78,"button",24),p("click",function(){return E(s),C(e.nextTab())}),r(79,"Siguiente"),o()()()(),I(80,Ye,47,16,"ng-template",null,0,X)}i&2&&(a(2),h(" ",e.title," "),a(23),c("formGroup",e.formPosgradoMaestria),a(),f("is-invalid",e.isInvalidMaestria("CoEspecialidad")),a(2),c("formGroup",e.formPosgradoMaestria),a(),f("is-invalid",e.isInvalidMaestria("universidad")),c("options",e.listaUniversidades)("config",e.ddSUniversidad),a(2),c("formGroup",e.formPosgradoMaestria),a(),f("is-invalid",e.isInvalidMaestria("pais")),c("options",e.listPaises)("config",e.ddSPaises),a(2),c("formGroup",e.formPosgradoMaestria),a(),f("is-invalid",e.isInvalidMaestria("NoArchivo")),a(5),c("formGroup",e.formPosgradoDoctorado),a(),f("is-invalid",e.isInvalidDoctorado("CoEspecialidad")),a(2),c("formGroup",e.formPosgradoDoctorado),a(),f("is-invalid",e.isInvalidDoctorado("universidad")),c("options",e.listaUniversidades)("config",e.ddSUniversidad),a(2),c("formGroup",e.formPosgradoDoctorado),a(),f("is-invalid",e.isInvalidDoctorado("pais")),c("options",e.listPaises)("config",e.ddSPaises),a(2),c("formGroup",e.formPosgradoDoctorado),a(),f("is-invalid",e.isInvalidDoctorado("NoArchivo")),a(23),c("ngForOf",e.dataStore),a(),c("ngIf",e.dataStore.length==0))},dependencies:[j,Q,V,U,O,T,w,M,re],styles:["#iptFile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}label[for=iptFile][_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#fff;background-color:#17a2b8;display:inline-block;transition:all .5s;cursor:pointer;padding:15px 40px!important;text-transform:uppercase;width:fit-content;text-align:center}"]})}}return l})();function Qe(l,x){if(l&1){let t=y();n(0,"tr")(1,"td"),r(2),o(),n(3,"td"),r(4),o(),n(5,"td"),r(6),o(),n(7,"td"),r(8),G(9,"date"),o(),n(10,"td"),r(11),G(12,"date"),o(),n(13,"td"),r(14),o(),n(15,"td"),r(16),o(),n(17,"td"),r(18),o(),n(19,"td"),r(20),o(),n(21,"td",25)(22,"button",26),p("click",function(){let e=E(t).index,s=_(),d=R(150);return C(s.openModalExpProf(d,e,"tabla1"))}),m(23,"i",27),o(),n(24,"button",11),p("click",function(){let e=E(t).index,s=_();return C(s.removeExpProf(e,"tabla1"))}),m(25,"i",28),o()()()}if(l&2){let t=x.$implicit,i=x.index;a(2),h("",i+1," "),a(2),h("",t.nombre," "),a(2),h("",t.descripcion," "),a(2),h(" ",H(9,9,t.fecha_inicio,"dd/MM/yyyy")," "),a(3),h(" ",H(12,12,t.fecha_fin,"dd/MM/yyyy")," "),a(3),h(" ",t.num_anios," "),a(2),h(" ",t.num_meses," "),a(2),h(" ",t.num_dias," "),a(2),h(" ",t.folios," ")}}function We(l,x){l&1&&(n(0,"tr")(1,"td",29),r(2," Sin elementos "),o()())}function et(l,x){if(l&1){let t=y();n(0,"tr")(1,"td"),r(2),o(),n(3,"td"),r(4),o(),n(5,"td"),r(6),o(),n(7,"td"),r(8),G(9,"date"),o(),n(10,"td"),r(11),G(12,"date"),o(),n(13,"td"),r(14),o(),n(15,"td"),r(16),o(),n(17,"td"),r(18),o(),n(19,"td"),r(20),o(),n(21,"td",25)(22,"button",26),p("click",function(){let e=E(t).index,s=_(),d=R(150);return C(s.openModalExpProf(d,e,"tabla2"))}),m(23,"i",27),o(),n(24,"button",11),p("click",function(){let e=E(t).index,s=_();return C(s.removeExpProf(e,"tabla2"))}),m(25,"i",28),o()()()}if(l&2){let t=x.$implicit,i=x.index;a(2),h("",i+1," "),a(2),h("",t.nombre," "),a(2),h("",t.descripcion," "),a(2),h(" ",H(9,9,t.fecha_inicio,"dd/MM/yyyy")," "),a(3),h(" ",H(12,12,t.fecha_fin,"dd/MM/yyyy")," "),a(3),h(" ",t.num_anios," "),a(2),h(" ",t.num_meses," "),a(2),h(" ",t.num_dias," "),a(2),h(" ",t.folios," ")}}function tt(l,x){l&1&&(n(0,"tr")(1,"td",29),r(2," Sin elementos "),o()())}function it(l,x){if(l&1){let t=y();n(0,"div",30)(1,"h5",31),r(2,"titulo del modal"),o(),n(3,"button",32),p("click",function(){let e=E(t).$implicit;return C(e.dismiss())}),o()(),n(4,"div",33)(5,"form",34),p("submit",function(){let e=E(t).$implicit,s=_();return C(s.onSubmitModalExpProf(e))}),n(6,"div",35)(7,"div",36)(8,"label",37)(9,"strong"),r(10,"NOMBRE DE LA EMPRESA O ENTIDAD"),o()(),m(11,"input",38),o(),n(12,"div",36)(13,"label",37)(14,"strong"),r(15,"DESCRIPCI\xD3N DE LAS FUNCIONES"),o()(),m(16,"input",39),o(),n(17,"div",36)(18,"label",37)(19,"strong"),r(20,"FECHA INICIO"),o()(),n(21,"input",40),p("change",function(){E(t);let e=_();return C(e.calcularDiferencia())}),o()(),n(22,"div",36)(23,"label",37)(24,"strong"),r(25,"FECHA FIN"),o()(),n(26,"input",41),p("change",function(){E(t);let e=_();return C(e.calcularDiferencia())}),o()(),n(27,"fieldset",42)(28,"label",37)(29,"strong"),r(30,"N\xB0 A\xD1OS"),o()(),n(31,"input",43),p("keypress",function(e){E(t);let s=_();return C(s.validateNumber(e))}),o()(),n(32,"fieldset",42)(33,"label",37)(34,"strong"),r(35,"N\xB0 MESES"),o()(),n(36,"input",44),p("keypress",function(e){E(t);let s=_();return C(s.validateNumber(e))}),o()(),n(37,"fieldset",42)(38,"label",37)(39,"strong"),r(40,"N\xB0 DIAS"),o()(),n(41,"input",45),p("keypress",function(e){E(t);let s=_();return C(s.validateNumber(e))}),o()(),n(42,"div",46)(43,"span",47)(44,"input",48),p("change",function(e){E(t);let s=_();return C(s.onFileChange(e))}),o()(),n(45,"label",49)(46,"span"),r(47,"Subir Documento"),o()(),n(48,"span",50),r(49),o()()(),n(50,"div",51)(51,"button",52),p("click",function(){let e=E(t).close;return C(e("Cancel"))}),m(52,"i",53),r(53," Cancelar "),o(),n(54,"button",24),r(55," Guardar "),m(56,"i",54),o()()()()}if(l&2){let t=_();a(5),c("formGroup",t.formExperienciaProfecional),a(6),f("is-invalid",t.isInvalid("nombre")),a(5),f("is-invalid",t.isInvalid("descripcion")),a(5),f("is-invalid",t.isInvalid("fecha_inicio")),c("max",t.maxDate2),a(5),f("is-invalid",t.isInvalid("fecha_fin")),c("max",t.maxDate),a(5),f("is-invalid",t.isInvalid("num_anios")),a(5),f("is-invalid",t.isInvalid("num_meses")),a(5),f("is-invalid",t.isInvalid("num_dias")),a(8),h(" ",t.filename," ")}}var Fe=(()=>{class l{constructor(t,i,e,s){this.modalService=t,this.fb=i,this.curriculumService=e,this.authService=s,this.title="",this.nextStep=new g,this.prevStep=new g,this.dataStore=[],this.dataStore2=[],this.modalTabla="",this.filename="",this.totalAnios=0,this.totalMeses=0,this.totalDias=0,this.totalAnios2=0,this.totalMeses2=0,this.totalDias2=0,this.isEditIndex=null,this.formExperienciaProfecional=this.fb.group({CoExperienciaProfesional:[null],CoDatosPersonales:[null,[]],nombre:[null,[u.required]],descripcion:[null,[u.required]],fecha_inicio:[null,[u.required]],fecha_fin:[null,[u.required]],num_anios:[null,{disabled:!0}],num_meses:[null,{disabled:!0}],num_dias:[null,{disabled:!0}],folios:[null,[u.required]],usCreacion:[this.authService.getAuthId()]},{validators:[this.dateValidator]});let d=new Date,v=new Date(d);v.setDate(d.getDate()-1),this.maxDate=d.toISOString().split("T")[0],this.maxDate2=v.toISOString().split("T")[0]}dateValidator(t){let i=t.get("fecha_inicio")?.value,e=t.get("fecha_fin")?.value;return i&&e&&new Date(i)>=new Date(e)?{dateInvalid:!0}:null}ngOnInit(){this.curriculumService.sharedData$.subscribe(t=>{console.log("dataaa",t)}),this.calculateTotals(),this.calculateTotals2()}openModalExpProf(t,i,e){if(this.filename="",this.formExperienciaProfecional.reset(),e==="tabla1")if(this.modalTabla="tabla1",i!==null){this.isEditIndex=i;let s=this.dataStore[i];this.formExperienciaProfecional.patchValue(s),this.calcularDiferencia()}else this.formExperienciaProfecional.get("fecha_fin")?.setValue(this.maxDate);if(e==="tabla2")if(this.modalTabla="tabla2",i!==null){this.isEditIndex=i;let s=this.dataStore2[i];this.formExperienciaProfecional.patchValue(s)}else this.formExperienciaProfecional.get("fecha_fin")?.setValue(this.maxDate);this.modalService.open(t,{size:"lg"})}onSubmitModalExpProf(t){this.formExperienciaProfecional.valid?(this.formExperienciaProfecional.value.CoExperienciaProfesional!=null&&this.formExperienciaProfecional.value.CoExperienciaProfesional!=0?this.actualizarExperienciaProf(t):this.crearExperienciaProf(t),this.formExperienciaProfecional.reset(),t.close()):(console.log("Formulario inv\xE1lido"),Object.values(this.formExperienciaProfecional.controls).forEach(i=>{i.markAllAsTouched()}))}removeExpProf(t,i){i==="tabla1"&&this.dataStore.splice(t,1),this.calculateTotals(),i==="tabla2"&&this.dataStore2.splice(t,1),this.calculateTotals2()}isInvalid(t){let i=this.formExperienciaProfecional.get(t);return i?i.invalid&&(i.dirty||i.touched):!1}validateNumber(t){let i=t.keyCode||t.which,e=String.fromCharCode(i);/^[0-9]+$/.test(e)||t.preventDefault()}actualizarExperienciaProf(t){let i=this.curriculumService.getCoDatosPersonales(),e=this.formExperienciaProfecional.value,s={CoExperienciaProfesional:e.CoExperienciaProfesional,CoDatosPersonales:i,NoEmpresaEntidad:e.nombre,DeFunciones:e.descripcion,FeInicio:e.fecha_inicio,FeFin:e.fecha_fin,CaTotalAnios:e.num_anios,CaTotalMeses:e.num_meses,CaTotalDias:e.num_dias,NuFolios:e.folios,usCreacion:1,usModificacion:e.usModificacion};this.curriculumService.actualizarExperienciaProf(s).subscribe({next:d=>{if(d.response){if(this.modalTabla==="tabla1"){var v=d.response;e.CoExperienciaProfesional=v.coExperienciaProfesional,this.isEditIndex!==null?this.dataStore[this.isEditIndex]=e:(this.dataStore.push(e),this.isEditIndex=null),this.calculateTotals()}this.modalTabla==="tabla2"&&(this.isEditIndex!==null?this.dataStore2[this.isEditIndex]=e:(this.dataStore2.push(e),this.isEditIndex=null),this.calculateTotals2()),t.close()}else console.error("Error al procesar especialistas",d)},error:d=>{console.error("Error procesando especialistas",d)}})}crearExperienciaProf(t){let i=this.curriculumService.getCoDatosPersonales(),e=this.formExperienciaProfecional.value,s={CoExperienciaProfesional:0,CoDatosPersonales:i,NoEmpresaEntidad:e.nombre,DeFunciones:e.descripcion,FeInicio:e.fecha_inicio,FeFin:e.fecha_fin,CaTotalAnios:e.num_anios,CaTotalMeses:e.num_meses,CaTotalDias:e.num_dias,NuFolios:e.folios,usCreacion:1,usModificacion:e.usModificacion};this.curriculumService.crearExperienciaProf(s).subscribe({next:d=>{if(d.response){if(this.modalTabla==="tabla1"){var v=d.response;e.CoExperienciaProfesional=v.coExperienciaProfesional,this.isEditIndex!==null?this.dataStore[this.isEditIndex]=e:(this.dataStore.push(e),this.isEditIndex=null),this.calculateTotals()}this.modalTabla==="tabla2"&&(this.isEditIndex!==null?this.dataStore2[this.isEditIndex]=e:(this.dataStore2.push(e),this.isEditIndex=null),this.calculateTotals2()),t.close()}else console.error("Error al procesar especialistas",d)},error:d=>{console.error("Error procesando especialistas",d)}})}onFileChange(t){let i=t.target;console.log("file",i),i.files&&i.files[0]&&(this.filename=i.files[0].name,console.log("file if",this.filename),this.formExperienciaProfecional.get("folios")?.setValue(this.filename))}calcularDiferencia(){let t=this.formExperienciaProfecional.get("fecha_inicio")?.value,i=this.formExperienciaProfecional.get("fecha_fin")?.value;if(t&&i){let e=new Date(t),s=new Date(i);if(e>s){this.formExperienciaProfecional.get("num_anios")?.setValue(0),this.formExperienciaProfecional.get("num_meses")?.setValue(0),this.formExperienciaProfecional.get("num_dias")?.setValue(0);return}let d=Math.abs(s.getTime()-e.getTime()),v=Math.floor(d/(1e3*60*60*24)),A=Math.floor(v/365),Me=Math.floor(v%365/30),ke=Math.floor(v%365%30);this.formExperienciaProfecional.get("num_anios")?.setValue(A),this.formExperienciaProfecional.get("num_meses")?.setValue(Me),this.formExperienciaProfecional.get("num_dias")?.setValue(ke)}}calculateTotals(){this.totalAnios=this.dataStore.reduce((t,i)=>t+i.num_anios,0),this.totalMeses=this.dataStore.reduce((t,i)=>t+i.num_meses,0),this.totalDias=this.dataStore.reduce((t,i)=>t+i.num_dias,0)}calculateTotals2(){this.totalAnios2=this.dataStore2.reduce((t,i)=>t+i.num_anios,0),this.totalMeses2=this.dataStore2.reduce((t,i)=>t+i.num_meses,0),this.totalDias2=this.dataStore2.reduce((t,i)=>t+i.num_dias,0)}static{this.\u0275fac=function(i){return new(i||l)(S(ie),S(k),S(D),S(N))}}static{this.\u0275cmp=P({type:l,selectors:[["app-experiencia-profesional"]],inputs:{title:"title"},outputs:{nextStep:"nextStep",prevStep:"prevStep"},decls:151,vars:11,consts:[["modal_experiencia_profecional",""],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table-description","text-muted","mb-3"],[1,"table-responsive"],[1,"table","table-bordered","small","table-sm"],[1,"text-center","arial-narrow-9","font-weight-bold"],["colspan","2"],["colspan","3"],["scope","col",2,"width","8rem"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"tbody-middle"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","5",1,"text-end"],["disabled","",1,"form-group"],["type","text","placeholder","A\xF1os totales",1,"form-control",3,"value"],["type","text","placeholder","Meses totales",1,"form-control",3,"value"],["type","text","placeholder","D\xEDas totales",1,"form-control",3,"value"],[1,"table-description","text-muted"],[1,"btns-footer"],[1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"text-center"],["type","button",1,"btn","btn-sm","btn-outline-secondary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-pencil-alt"],["aria-hidden","true",1,"fas","fa-eraser"],["colspan","100%",1,"text-center","text-muted","fst-italic"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-sm",3,"click"],[1,"modal-body"],[3,"submit","formGroup"],[1,"row"],[1,"form-group","mb-3","col-md-4"],[1,"arial-narrow-9"],["formControlName","nombre","type","text",1,"form-control"],["formControlName","descripcion","type","text",1,"form-control"],["formControlName","fecha_inicio","placeholder","yyyy-mm-dd","type","date",1,"form-control",3,"change","max"],["formControlName","fecha_fin","placeholder","yyyy-mm-dd","type","date",1,"form-control",3,"change","max"],["disabled","",1,"form-group","mb-3","col-md-4"],["formControlName","num_anios","type","text",1,"form-control",3,"keypress"],["formControlName","num_meses","type","text",1,"form-control",3,"keypress"],["formControlName","num_dias","type","text",1,"form-control",3,"keypress"],[1,"form-group","col-md-4",2,"padding-top","10px"],[1,"iptFile"],["type","file","name","iptFile","id","iptFile",3,"change"],["for","iptFile"],[2,"position","absolute","margin-left","10px","margin-top","10px"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-times","fa-fw"],[1,"fa","fa-arrow-right","fa-fw"]],template:function(i,e){if(i&1){let s=y();n(0,"div",1)(1,"div",2),r(2),o(),n(3,"div",3)(4,"div",2),r(5," IV.a EXPERIENCIA PROFESIONAL "),o(),n(6,"div",3)(7,"div",4)(8,"p"),r(9,"(Llenar este \xEDtem s\xF3lo para el caso de especialistas del equipo profesional multidisciplinario de las consultoras ambientales - Personas Jur\xEDdicas)"),o(),n(10,"p"),r(11,"El especialista con carrera profesional vinculada a un determinado sector debe acreditar una experiencia profesional m\xEDnima de cinco (05) a\xF1os relacionada al sector materia de la solicitud. El especialista con carreras profesional transversal debe acreditar una experiencia profesional m\xEDnima de cinco (05) a\xF1os en la elaboraci\xF3n, evaluaci\xF3n, ejecuci\xF3n, supervisi\xF3n y/o fiscalizaci\xF3n de estudios ambientales o instrumentos de gesti\xF3n ambiental complementarios al SEIA."),o()(),n(12,"div",5)(13,"table",6)(14,"thead")(15,"tr",7)(16,"th"),r(17,"N\xB0"),o(),n(18,"th"),r(19,"NOMBRE DE LA EMPRESA O ENTIDAD"),o(),n(20,"th"),r(21,"BREVE DESCRIPCI\xD3N DE LAS FUNCIONES Y/O ACTIVIDADES DESARROLLADAS (*)"),o(),n(22,"th",8),r(23,"FECHA (dd/mm/aaaa)"),o(),n(24,"th",9),r(25,"TOTAL"),o(),n(26,"th"),r(27,"DOCUMENTO"),o(),n(28,"th",10),r(29,"Acci\xF3n "),n(30,"button",11),p("click",function(){E(s);let v=R(150);return C(e.openModalExpProf(v,null,"tabla1"))}),m(31,"i",12),o()()(),n(32,"tr",7),m(33,"th")(34,"th")(35,"th"),n(36,"th"),r(37,"INICIO"),o(),n(38,"th"),r(39,"FIN"),o(),n(40,"th"),r(41,"A\xD1OS"),o(),n(42,"th"),r(43,"MESES"),o(),n(44,"th"),r(45,"D\xCDAS"),o(),m(46,"th")(47,"th"),o()(),n(48,"tbody",13),I(49,Qe,26,15,"tr",14)(50,We,3,0,"tr",15),o(),n(51,"tfoot")(52,"tr")(53,"td",16),r(54,"Total"),o(),n(55,"td")(56,"fieldset",17),m(57,"input",18),o()(),n(58,"td")(59,"fieldset",17),m(60,"input",19),o()(),n(61,"td")(62,"fieldset",17),m(63,"input",20),o()(),m(64,"td"),o()()(),n(65,"div",21)(66,"p"),r(67,"(*) Describir brevemente la informaci\xF3n que permita advertir las funciones y/o actividades relacionadas a la elaboraci\xF3n, evaluaci\xF3n, ejecuci\xF3n, supervisi\xF3n y/o fiscalizaci\xF3n de estudios ambientales o instrumentos de gesti\xF3n ambiental complementarios al SEIA."),o(),n(68,"p"),r(69,"De ser el caso que en los documentos sustentatorios no se precisa el periodo o la funci\xF3n desempe\xF1ada, se deber\xE1 complementar y precisar dicha informaci\xF3n en los campos seg\xFAn corresponda."),o(),n(70,"p"),r(71,"Cada experiencia profesional consignada debe contener los campos completos y corresponder al respectivo documento sustentatorio, y no debe traslaparse con otra experiencia."),o(),n(72,"p"),r(73,"Detallar la experiencia en orden cronol\xF3gico, desde la m\xE1s reciente hasta la m\xE1s antigua."),o()()()(),n(74,"div",2),r(75," IV.b EXPERIENCIA PROFESIONAL "),o(),n(76,"div",3)(77,"div",4)(78,"p"),r(79,"(Llenar este \xEDtem s\xF3lo para el caso de inscripci\xF3n de personas naturales en el Registro Nacional de Consultoras Ambientales para el subsector Agricultura)"),o(),n(80,"p"),r(81,"La persona natural debe acreditar una experiencia profesional m\xEDnima de cinco (05) a\xF1os en la elaboraci\xF3n, evaluaci\xF3n, ejecuci\xF3n, supervisi\xF3n y/o fiscalizaci\xF3n de estudios ambientales o instrumentos de gesti\xF3n ambiental complementarios al SEIA."),o()(),n(82,"div",5)(83,"table",6)(84,"thead")(85,"tr",7)(86,"th"),r(87,"N\xB0"),o(),n(88,"th"),r(89,"NOMBRE DE LA EMPRESA O ENTIDAD"),o(),n(90,"th"),r(91,"BREVE DESCRIPCI\xD3N DE LAS FUNCIONES Y/O ACTIVIDADES DESARROLLADAS (*)"),o(),n(92,"th",8),r(93,"FECHA (dd/mm/aaaa)"),o(),n(94,"th",9),r(95,"TOTAL"),o(),n(96,"th"),r(97,"DOCUMENTO"),o(),n(98,"th",10),r(99,"Acci\xF3n "),n(100,"button",11),p("click",function(){E(s);let v=R(150);return C(e.openModalExpProf(v,null,"tabla2"))}),m(101,"i",12),o()()(),n(102,"tr",7),m(103,"th")(104,"th")(105,"th"),n(106,"th"),r(107,"INICIO"),o(),n(108,"th"),r(109,"FIN"),o(),n(110,"th"),r(111,"A\xD1OS"),o(),n(112,"th"),r(113,"MESES"),o(),n(114,"th"),r(115,"D\xCDAS"),o(),m(116,"th")(117,"th"),o()(),n(118,"tbody",13),I(119,et,26,15,"tr",14)(120,tt,3,0,"tr",15),o(),n(121,"tfoot")(122,"tr")(123,"td",16),r(124,"Total"),o(),n(125,"td")(126,"fieldset",17),m(127,"input",18),o()(),n(128,"td")(129,"fieldset",17),m(130,"input",19),o()(),n(131,"td")(132,"fieldset",17),m(133,"input",20),o()(),m(134,"td"),o()()(),n(135,"div",21)(136,"p"),r(137,"(*) Describir brevemente la informaci\xF3n que permita advertir las funciones y/o actividades relacionadas a la elaboraci\xF3n, evaluaci\xF3n, ejecuci\xF3n, supervisi\xF3n y/o fiscalizaci\xF3n de estudios ambientales o instrumentos de gesti\xF3n ambiental complementarios al SEIA."),o(),n(138,"p"),r(139,"De ser el caso que en los documentos sustentatorios no se precisa el periodo o la funci\xF3n desempe\xF1ada, se deber\xE1 complementar y precisar dicha informaci\xF3n en los campos seg\xFAn corresponda."),o(),n(140,"p"),r(141,"Cada experiencia profesional consignada debe contener los campos completos y corresponder al respectivo documento sustentatorio, y no debe traslaparse con otra experiencia."),o(),n(142,"p"),r(143,"Detallar la experiencia en orden cronol\xF3gico, desde la m\xE1s reciente hasta la m\xE1s antigua."),o()()()(),n(144,"div",22)(145,"button",23),p("click",function(){return E(s),C(e.prevStep.emit())}),r(146,"Anterior"),o(),n(147,"button",24),r(148,"Siguiente"),o()()()(),I(149,it,57,18,"ng-template",null,0,X)}i&2&&(a(2),h(" ",e.title," "),a(47),c("ngForOf",e.dataStore),a(),c("ngIf",e.dataStore.length==0),a(7),c("value",e.totalAnios),a(3),c("value",e.totalMeses),a(3),c("value",e.totalDias),a(56),c("ngForOf",e.dataStore2),a(),c("ngIf",e.dataStore.length==0),a(7),c("value",e.totalAnios2),a(3),c("value",e.totalMeses2),a(3),c("value",e.totalDias2))},dependencies:[j,Q,V,U,O,T,w,M,fe],styles:["#iptFile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}label[for=iptFile][_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#fff;background-color:#17a2b8;display:inline-block;transition:all .5s;cursor:pointer;padding:15px 40px!important;text-transform:uppercase;width:fit-content;text-align:center}"]})}}return l})();var Ne=(()=>{class l{constructor(t,i,e,s,d){this.fb=t,this.universidadesService=i,this.paisesService=e,this.authService=s,this.curriculumService=d,this.title="",this.nextStep=new g,this.prevStep=new g,this.listaUniversidades=[],this.carrerasProfesionales=[],this.carrerasProfesionales2=[],this.maxDate=new Date().toISOString().split("T")[0],this.listPaises=[],this.ddSUniversidad={displayKey:"desUniversidad",search:!0,height:"200px",placeholder:"Seleccione"},this.ddSPaises={displayKey:"descripcion",search:!0,height:"200px",placeholder:"Seleccione"},this.ddSCarreras={displayKey:"desFormacion",search:!0,height:"200px",placeholder:"Seleccione"},this.formFormacionAcademicaBachiller=this.fb.group({coFormacionAcademica:[0,[]],coDatosPersonales:[null,[u.required]],tiFormacion:["1",[u.required]],coCarreraProfesional:[null,[]],carreras:[null,[u.required]],universidad:[null,[u.required]],coUniversidad:[null,[]],pais:[null,[u.required]],coPais:[null,[]],feObtencion:[null,[u.required]],noNumeroFolio:["ac\xE1 va id alfresco",[u.required]],usCreacion:[this.authService.getAuthId()],NoArchivo:[null,[u.required]]}),this.formFormacionAcademicaProfesional=this.fb.group({coFormacionAcademica:[0,[u.required]],coDatosPersonales:[null,[u.required]],tiFormacion:["2",[u.required]],coCarreraProfesional:[null,[u.required]],carreras:[null,[u.required]],universidad:[null,[u.required]],coUniversidad:[null,[]],pais:[null,[u.required]],coPais:[null,[]],feObtencion:[null,[u.required]],noNumeroFolio:["ac\xE1 va id alfresco",[u.required]],usCreacion:[this.authService.getAuthId()],NoArchivo:[null,[u.required]]})}ngOnInit(){this.universidadesService.universidades$.subscribe(t=>{this.listaUniversidades=t}),this.paisesService.listaPaises$.subscribe(t=>{this.listPaises=t}),this.listaUniversidades.length==0&&this.listarUniversidades(),this.ListarFormacionAcad\u00E9mica()}listarUniversidades(){this.universidadesService.listarUniversidades().subscribe({next:t=>{t.response?this.universidadesService.actualizarUniversidades(t.response):console.error("No se pudo obtener la lista de universidades",t)},error:t=>{console.error("Error fetching universidades",t)}})}onSelectUniversidad(t){let{idUniversidad:i}=t.value;this.universidadesService.listarCarrerasProfesionales(i).subscribe({next:e=>{e.response?this.carrerasProfesionales=e.response:console.error("No se pudo obtener la lista de carreras profesionales",e)},error:e=>{console.error("Error fetching carreras profesionales",e)}})}onSelectUniversidad2(t){let{idUniversidad:i}=t.value;this.universidadesService.listarCarrerasProfesionales(i).subscribe({next:e=>{e.response?this.carrerasProfesionales2=e.response:console.error("No se pudo obtener la lista de carreras profesionales",e)},error:e=>{console.error("Error fetching carreras profesionales",e)}})}onFileChangeBachiller(t){let i=t.target;i.files&&i.files[0]&&this.formFormacionAcademicaBachiller.get("NoArchivo")?.setValue(i.files[0].name)}onFileChangeProfesional(t){let i=t.target;i.files&&i.files[0]&&this.formFormacionAcademicaProfesional.get("NoArchivo")?.setValue(i.files[0].name)}nextTab(){let t=this.curriculumService.getCoDatosPersonales();if(this.formFormacionAcademicaBachiller.get("coDatosPersonales")?.setValue(t),this.formFormacionAcademicaProfesional.get("coDatosPersonales")?.setValue(t),console.log(this.formFormacionAcademicaProfesional.value),!this.formFormacionAcademicaBachiller.valid&&!this.formFormacionAcademicaProfesional.valid){this.formFormacionAcademicaBachiller.markAllAsTouched(),this.formFormacionAcademicaProfesional.markAllAsTouched(),console.log("Los formularios contienen errores.");return}this.formFormacionAcademicaBachiller.value.coFormacionAcademica?this.actualizarFormacionAcademica():this.crearFormacionAcademica()}ListarFormacionAcad\u00E9mica(){let t=this.curriculumService.getCoDatosPersonales();this.curriculumService.ListarFormacionAcad\u00E9micaCoDatosPersonales(t).subscribe({next:i=>{if(i.response){console.log("ListarFormacionAcad\xE9micaCoDatosPersonales"),console.log("ListarFormacionAcad\xE9micaCoDatosPersonales",i);var e=i.response}},error:i=>{console.error("crearCvDatosPersonales",i)}})}crearFormacionAcademica(){this.formFormacionAcademicaBachiller.get("coCarreraProfesional")?.setValue(this.formFormacionAcademicaBachiller.value.carreras.idFormacion),this.formFormacionAcademicaBachiller.get("coUniversidad")?.setValue(this.formFormacionAcademicaBachiller.value.universidad.idUniversidad),this.formFormacionAcademicaBachiller.get("coPais")?.setValue(this.formFormacionAcademicaBachiller.value.pais.idPais),this.formFormacionAcademicaProfesional.get("coCarreraProfesional")?.setValue(this.formFormacionAcademicaProfesional.value.carreras.idFormacion),this.formFormacionAcademicaProfesional.get("coUniversidad")?.setValue(this.formFormacionAcademicaProfesional.value.universidad.idUniversidad),this.formFormacionAcademicaProfesional.get("coPais")?.setValue(this.formFormacionAcademicaProfesional.value.pais.idPais);var t=[this.formFormacionAcademicaBachiller.value,this.formFormacionAcademicaProfesional.value];this.curriculumService.crearCVFormacionAcademica(t).subscribe({next:i=>{i.response&&(this.formFormacionAcademicaBachiller.patchValue(i.response[0]),this.formFormacionAcademicaProfesional.patchValue(i.response[1]),this.nextStep.emit())},error:i=>{console.error("crearCvDatosPersonales",i)}})}actualizarFormacionAcademica(){this.formFormacionAcademicaBachiller.get("coCarreraProfesional")?.setValue(this.formFormacionAcademicaBachiller.value.carreras.idFormacion),this.formFormacionAcademicaBachiller.get("coUniversidad")?.setValue(this.formFormacionAcademicaBachiller.value.universidad.idUniversidad),this.formFormacionAcademicaBachiller.get("coPais")?.setValue(this.formFormacionAcademicaBachiller.value.pais.idPais),this.formFormacionAcademicaProfesional.get("coCarreraProfesional")?.setValue(this.formFormacionAcademicaProfesional.value.carreras.idFormacion),this.formFormacionAcademicaProfesional.get("coUniversidad")?.setValue(this.formFormacionAcademicaProfesional.value.universidad.idUniversidad),this.formFormacionAcademicaProfesional.get("coPais")?.setValue(this.formFormacionAcademicaProfesional.value.pais.idPais);var t=[this.formFormacionAcademicaBachiller.value,this.formFormacionAcademicaProfesional.value];this.curriculumService.actualizarCVFormacionAcademica(t).subscribe({next:i=>{i.response&&(this.formFormacionAcademicaBachiller.patchValue(i.response[0]),this.formFormacionAcademicaProfesional.patchValue(i.response[1]),this.nextStep.emit())},error:i=>{console.error("crearCvDatosPersonales",i)}})}isInvalid(t){let i=this.formFormacionAcademicaBachiller.get(t);return i?i.invalid&&(i.dirty||i.touched):!1}isInvalid2(t){let i=this.formFormacionAcademicaProfesional.get(t);return i?i.invalid&&(i.dirty||i.touched):!1}static{this.\u0275fac=function(i){return new(i||l)(S(k),S(ne),S($),S(N),S(D))}}static{this.\u0275cmp=P({type:l,selectors:[["app-formacion-academica"]],inputs:{title:"title"},outputs:{nextStep:"nextStep",prevStep:"prevStep"},decls:62,vars:45,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table-responsive","position-relative","overflow-visible"],[1,"table","table-bordered","small","table-sm"],[1,"text-center","arial-narrow-9","fw-bold"],[2,"max-width","170px"],[2,"width","360px"],[2,"width","200px"],[1,"tbody-middle"],[1,"arial-narrow-9"],[1,"arial-narrow-9","fw-bold"],[3,"formGroup"],["formControlName","universidad",1,"singleSelection",3,"change","options","config"],["formControlName","carreras",1,"singleSelection",3,"options","config"],["formControlName","pais",1,"singleSelection",3,"options","config"],["type","date","formControlName","feObtencion",1,"form-control",3,"max"],["type","file","accept",".pdf",1,"form-control",3,"change"],[1,"btns-footer"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1),r(2),o(),n(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead")(7,"tr",5)(8,"th",6),r(9,"GRADO ACAD\xC9MICO DE BACHILLER Y T\xCDTULO PROFESIONAL"),o(),n(10,"th",7),r(11,"UNIVERSIDAD"),o(),n(12,"th",7),r(13,"CARRERA PROFESIONAL"),o(),n(14,"th",8),r(15,"PA\xCDS"),o(),n(16,"th",8),r(17,"FECHA DE OBTENCI\xD3N DEL DOCUMENTO (dd/mm/aaaa)"),o(),n(18,"th"),r(19,"DOCUMENTO"),o()()(),n(20,"tbody",9)(21,"tr",10)(22,"td",11),r(23,"Grado acad\xE9mico de bachiller"),o(),n(24,"td")(25,"form",12)(26,"ngx-select-dropdown",13),p("change",function(d){return e.onSelectUniversidad(d)}),o()()(),n(27,"td")(28,"form",12),m(29,"ngx-select-dropdown",14),o()(),n(30,"td")(31,"form",12),m(32,"ngx-select-dropdown",15),o()(),n(33,"td")(34,"form",12),m(35,"input",16),o()(),n(36,"td")(37,"form",12)(38,"input",17),p("change",function(d){return e.onFileChangeBachiller(d)}),o()()()(),n(39,"tr",11)(40,"td"),r(41,"T\xEDtulo profesional"),o(),n(42,"td")(43,"form",12)(44,"ngx-select-dropdown",13),p("change",function(d){return e.onSelectUniversidad2(d)}),o()()(),n(45,"td")(46,"form",12),m(47,"ngx-select-dropdown",14),o()(),n(48,"td")(49,"form",12),m(50,"ngx-select-dropdown",15),o()(),n(51,"td")(52,"form",12),m(53,"input",16),o()(),n(54,"td")(55,"form",12)(56,"input",17),p("change",function(d){return e.onFileChangeProfesional(d)}),o()()()()()()(),n(57,"div",18)(58,"button",19),p("click",function(){return e.prevStep.emit()}),r(59,"Anterior"),o(),n(60,"button",20),p("click",function(){return e.nextTab()}),r(61,"Siguiente"),o()()()()),i&2&&(a(2),h(" ",e.title," "),a(23),c("formGroup",e.formFormacionAcademicaBachiller),a(),f("is-invalid",e.isInvalid("universidad")),c("options",e.listaUniversidades)("config",e.ddSUniversidad),a(2),c("formGroup",e.formFormacionAcademicaBachiller),a(),f("is-invalid",e.isInvalid("carreras")),c("options",e.carrerasProfesionales)("config",e.ddSCarreras),a(2),c("formGroup",e.formFormacionAcademicaBachiller),a(),f("is-invalid",e.isInvalid("pais")),c("options",e.listPaises)("config",e.ddSPaises),a(2),c("formGroup",e.formFormacionAcademicaBachiller),a(),f("is-invalid",e.isInvalid("feObtencion")),c("max",e.maxDate),a(2),c("formGroup",e.formFormacionAcademicaBachiller),a(),f("is-invalid",e.isInvalid("NoArchivo")),a(5),c("formGroup",e.formFormacionAcademicaProfesional),a(),f("is-invalid",e.isInvalid2("universidad")),c("options",e.listaUniversidades)("config",e.ddSUniversidad),a(2),c("formGroup",e.formFormacionAcademicaProfesional),a(),f("is-invalid",e.isInvalid("carreras")),c("options",e.carrerasProfesionales2)("config",e.ddSCarreras),a(2),c("formGroup",e.formFormacionAcademicaProfesional),a(),f("is-invalid",e.isInvalid2("pais")),c("options",e.listPaises)("config",e.ddSPaises),a(2),c("formGroup",e.formFormacionAcademicaProfesional),a(),f("is-invalid",e.isInvalid2("feObtencion")),c("max",e.maxDate),a(2),c("formGroup",e.formFormacionAcademicaProfesional),a(),f("is-invalid",e.isInvalid2("NoArchivo")))},dependencies:[V,U,O,T,w,M,re]})}}return l})();var Oe=ue(xe());var Te=(()=>{class l{constructor(t,i,e){this.fb=t,this.consultoraService=i,this.curriculumService=e,this.title="",this.nextStep=new g,this.prevStep=new g,this.flagAcepto=!1,this.form=this.fb.group({flagAcepto:[!1,u.requiredTrue]})}actualizarExpedienteById(){let t=this.curriculumService.getCoExpedienteSolicitud();t=170,t||Oe.default.fire({icon:"error",title:"Oops...",text:"No se encontr\xF3 el expediente"}),this.consultoraService.actualizarExpedienteById(t).subscribe({next:i=>{console.log("Datos del expediente:",i.response),i.response&&this.nextStep.emit()},error:i=>{console.error("Error al actualizar el expediente:",i)}})}static{this.\u0275fac=function(i){return new(i||l)(S(k),S(q),S(D))}}static{this.\u0275cmp=P({type:l,selectors:[["app-no-encontrarse-incurso"]],inputs:{title:"title"},outputs:{nextStep:"nextStep",prevStep:"prevStep"},decls:18,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,""],[1,"m-auto","d-flex"],["type","checkbox","formControlName","flagAcepto","name","checkbox",1,"chkadjuntos"],[1,"btns-footer"],[1,"btn","btn-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1),r(2),o(),n(3,"div",2)(4,"form",3),p("ngSubmit",function(){return e.actualizarExpedienteById()}),n(5,"div",4)(6,"p"),r(7,"No me encuentro incurso en alguna de las restricciones establecidas en el art\xEDculo 19 del Reglamento del Registro de Entidades Autorizadas para la Elaboraci\xF3n de Estudios Ambientales, en el marco del Sistema Nacional de Evaluaci\xF3n de Impacto Ambiental - SEIA, aprobado por Decreto Supremo N\xB0 011-2013-MINAM, modificado por el Decreto Supremo N\xB0 015-2016-MINAM."),o(),n(8,"p"),r(9,"Me comprometo a participar en la elaboraci\xF3n de los Instrumentos de Gesti\xF3n Ambiental regulados en el Sistema Nacional de Evaluaci\xF3n de Impacto Ambiental - SEIA, as\xED como los regulados en la normatividad vigente; basando mi actuaci\xF3n profesional en los principios y valores \xE9ticos que gu\xEDan el Colegio Profesional que integro. Asimismo, me comprometo a asumir mi responsabilidad solidaria con la Entidad Autorizada para la Elaboraci\xF3n de Estudios Ambientales, conforme al art\xEDculo 50 del Reglamento de la Ley N\xB0 27446, Ley del Sistema Nacional de Evaluaci\xF3n de Impacto Ambiental, aprobado por Decreto Supremo N\xB0 019-2009-MINAM, para la cual brindo mis servicios."),o(),n(10,"div",5),r(11,"Acepto "),m(12,"input",6),o()(),n(13,"div",7)(14,"button",8),p("click",function(){return e.prevStep.emit()}),r(15,"Anterior"),o(),n(16,"button",9),r(17,"Siguiente"),o()()()()()),i&2&&(a(2),h(" ",e.title," "),a(2),c("formGroup",e.form),a(12),c("disabled",!e.form.valid))},dependencies:[V,te,O,T,w,M],styles:[".chkadjuntos[_ngcontent-%COMP%]{width:23px;height:23px;margin-left:5px}"]})}}return l})();var Ve=(()=>{class l{constructor(t,i){this.route=t,this.curriculumService=i,this.steps=[{label:"DATOS PERSONALES",listIndex:"I"},{label:"FORMACI\xD3N ACAD\xC9MICA",listIndex:"II"},{label:"ESTUDIOS DE POSGRADO O CURSOS DE ESPECIALIZACI\xD3N RELACIONADOS A ESTUDIOS AMBIENTALES Y/O TEM\xC1TICA AMBIENTAL O SOCIAL",listIndex:"III"},{label:"EXPERIENCIA PROFESIONAL",listIndex:"IV"},{label:"DOCUMENTOS ADJUNTOS",listIndex:"V"},{label:"NO ENCONTRARSE INCURSO EN ALGUNA DE LAS RESTRICCIONES DEL ART\xCDCULO 19",listIndex:"VI"},{label:"CONSENTIMIENTO DE USO DE DATOS PERSONALES",listIndex:"VII"}],this.currentStep=0}ngOnInit(){console.log("CurriculumVitaeComponent"),this.route.queryParams.subscribe(t=>{let i=t.coespecialista,e=t.coexpediente;this.curriculumService.setCoespecialista(i),this.curriculumService.setCoExpedienteSolicitud(e)})}nextStep(){console.log("next",this.currentStep),this.currentStep!==this.steps.length-1&&this.currentStep++}prevStep(){console.log("prev",this.currentStep),this.currentStep!==0&&this.currentStep--}gotoStep(t=0){this.currentStep=t}static{this.\u0275fac=function(i){return new(i||l)(S(ve),S(D))}}static{this.\u0275cmp=P({type:l,selectors:[["app-curriculum-vitae"]],decls:14,vars:16,consts:[[1,"card","mt-2","d-flex","flex-direction-column","justify-content-center","align-items-center","mb-4"],[1,"card-body"],[1,"text-center"],[1,"d-flex","justify-content-center","py-3",2,"min-height","85px"],[3,"gotoStep","steps","currentStep"],[1,"card"],[3,"nextStep","prevStep","hidden","title"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"Curriculum Vitae"),o(),n(4,"div",3)(5,"app-stepper",4),p("gotoStep",function(d){return e.gotoStep(d)}),o()()()(),n(6,"div",5)(7,"app-datos-personales",6),p("nextStep",function(){return e.nextStep()})("prevStep",function(){return e.prevStep()}),o(),n(8,"app-formacion-academica",6),p("nextStep",function(){return e.nextStep()})("prevStep",function(){return e.prevStep()}),o(),n(9,"app-estudios-postgrados-especializacion",6),p("nextStep",function(){return e.nextStep()})("prevStep",function(){return e.prevStep()}),o(),n(10,"app-experiencia-profesional",6),p("nextStep",function(){return e.nextStep()})("prevStep",function(){return e.prevStep()}),o(),n(11,"app-documentos-adjuntos",6),p("nextStep",function(){return e.nextStep()})("prevStep",function(){return e.prevStep()}),o(),n(12,"app-no-encontrarse-incurso",6),p("nextStep",function(){return e.nextStep()})("prevStep",function(){return e.prevStep()}),o(),n(13,"app-consentimiento-uso-datos",6),p("nextStep",function(){return e.nextStep()})("prevStep",function(){return e.prevStep()}),o()()),i&2&&(a(5),c("steps",e.steps)("currentStep",e.currentStep),a(2),c("hidden",e.currentStep!=0)("title",e.steps[0].listIndex+". "+e.steps[0].label),a(),c("hidden",e.currentStep!=1)("title",e.steps[1].listIndex+". "+e.steps[1].label),a(),c("hidden",e.currentStep!=2)("title",e.steps[2].listIndex+". "+e.steps[2].label),a(),c("hidden",e.currentStep!=3)("title",e.steps[3].listIndex+". "+e.steps[3].label),a(),c("hidden",e.currentStep!=4)("title",e.steps[4].listIndex+". "+e.steps[4].label),a(),c("hidden",e.currentStep!=5)("title",e.steps[5].listIndex+". "+e.steps[5].label),a(),c("hidden",e.currentStep!=6)("title",e.steps[6].listIndex+". "+e.steps[6].label))},dependencies:[oe,Pe,De,Ie,ye,Fe,Ne,Te]})}}return l})();var at=[{path:"",component:Ve}],we=(()=>{class l{static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275mod=Y({type:l})}static{this.\u0275inj=K({imports:[ce.forChild(at),ce]})}}return l})();var Ei=(()=>{class l{static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275mod=Y({type:l})}static{this.\u0275inj=K({imports:[he,we,oe,_e,be]})}}return l})();export{Ei as CurriculumVitaeModule};
